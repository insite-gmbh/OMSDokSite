


<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.12">
    
    
      
        <title>Funktionsprinzip - OMS Dokumentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4dd2dd8d.min.css">
      
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#funktionsprinzip" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="OMS Dokumentation" class="md-header-nav__button md-logo" aria-label="OMS Dokumentation">
      
  <img src="../../favicon.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            OMS Dokumentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Funktionsprinzip
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OMS Dokumentation" class="md-nav__button md-logo" aria-label="OMS Dokumentation">
      
  <img src="../../favicon.png" alt="logo">

    </a>
    OMS Dokumentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Funktionsprinzip
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="Funktionsprinzip" class="md-nav__link md-nav__link--active">
      Funktionsprinzip
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#download-der-appware" class="md-nav__link">
    Download der "AppWare"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oms-konfiguration" class="md-nav__link">
    OMS-Konfiguration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    Bootstrapping
  </a>
  
    <nav class="md-nav" aria-label="Bootstrapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#probleme-durch-den-broadcast" class="md-nav__link">
    Probleme durch den Broadcast
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mehrere-oms-im-netzwerk" class="md-nav__link">
    Mehrere OMS im Netzwerk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funktionsprinzip-der-oms-appware" class="md-nav__link">
    Funktionsprinzip der OMS AppWare
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/configuration_main/" title="Konfiguration des OMS" class="md-nav__link">
      Konfiguration des OMS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../appware/appware_main/" title="Die AppWare des OMS" class="md-nav__link">
      Die AppWare des OMS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/installation_main/" title="Installation des OMS auf dem Zielsystem" class="md-nav__link">
      Installation des OMS auf dem Zielsystem
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../legal/imprint/" title="Impressum" class="md-nav__link">
      Impressum
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#download-der-appware" class="md-nav__link">
    Download der "AppWare"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oms-konfiguration" class="md-nav__link">
    OMS-Konfiguration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    Bootstrapping
  </a>
  
    <nav class="md-nav" aria-label="Bootstrapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#probleme-durch-den-broadcast" class="md-nav__link">
    Probleme durch den Broadcast
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mehrere-oms-im-netzwerk" class="md-nav__link">
    Mehrere OMS im Netzwerk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funktionsprinzip-der-oms-appware" class="md-nav__link">
    Funktionsprinzip der OMS AppWare
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="funktionsprinzip">Funktionsprinzip</h1>
<h2 id="download-der-appware">Download der "AppWare"</h2>
<p>Normalerweise ist ab Werk auf einem OMS ein Bootstrapper und ein aktueller Stand der OMS-Applikation und möglicherweise eine Grundkonfiguration vorinstalliert. 
Die OMS-Applikation und die dazugehörige Konfiguration bezeichnen wir als "AppWare". Sollte die AppWare nicht installiert sein, oder ein Update vorliegen, kann das OMS diese über den Bootstrapper und eine Netzwerkverbindung von dem OMSConfigService herunterladen. Der OMSConfigService ist in der Regel auf einem Konfigurations-Server im Produktions-Netzwerk oder einem (normalerweise nur temporär verbundenen) Inbetriebnahme-Laptop installiert.  </p>
<p>Der Download der AppWare erfolgt über HTTP, in der Regel über die im OMS eingebaute WLAN-Netzwerkkarte oder alternativ über Kabel. Um den OMSConfigService im Netzwerk zu finden, kann der Bootstrapper ein UDP-Broadcast auslösen, der vom OMSConfigService entsprechend beantwortet wird.</p>
<p><img alt="Verbindung zum OMSConfigService" src="../OMSOverview.png?raw=true" title="Verbindung zu einem Server mit OMSConfigService" /></p>
<p>Updates der AppWare werden ebenfalls von den OMS vom OMSConfigService heruntergeladen.</p>
<h2 id="oms-konfiguration">OMS-Konfiguration</h2>
<p>Ein entscheidender Teil der AppWare ist die geräte-spezifische Konfiguration des OMS. Der OMSConfigService führt dazu eine Liste mit IP-Adressen der zum Einsatz kommenden OMS und ordnet anhand dieser Liste die individuellen Konfigurationsdaten dem jeweiligen OMS zu.</p>
<p>Details hierzu finden sich in 
<a href="../../configuration/configuration_main/">Konfiguration des OMS</a>
.</p>
<p>Neben den Hardware-Eigenschaften (Anzahl E/A etc.) und beispielsweise der Zuordnung von FTS-Aufträgen zu GUI-Buttons wird in der Konfiguration die URLs des <strong>Konfigurations-WebAPIs</strong> und des <strong>Update-WebAPIs</strong> festgelegt.</p>
<p>Diese sind bei einem neu installierten OMS nicht bekannt oder können sich während des Laufzeit des Projektes auch einmal ändern.</p>
<h2 id="bootstrapping">Bootstrapping</h2>
<p>Beim allerersten Start hat das OMS noch keine Konfiguration und kennt daher die IP-Adresse des Konfigurationsservers noch nicht. Weiterhin kann es nach Netzwerkänderungen dazu kommen, dass die bisher verwendete IP-Adresse nicht mehr gültig ist. In diesen Fällen versucht der Bootstrapper den OMSConfigService durch einen UDP-Broadcast im Netzwerk zu finden. </p>
<p>Bei einem Neustart des OMS führt der Bootstrapper die folgenden Schritte durch:</p>
<p><img alt="Bootstrapping der AppWare" src="../BootstrapperFlow3.png?raw=true" title="OMS Bootstrapping der AppWare" /></p>
<p>Der Bootstrapper bleibt auch nach dem "initialen" Download der AppWare aktiv. Damit sind nach einem Neustart des OMS jederzeit Updates der AppWare möglich. </p>
<h3 id="probleme-durch-den-broadcast">Probleme durch den Broadcast</h3>
<p>Theoretisch kann es passieren, dass mehr als ein OMSConfigService im Netzwerk aktiv ist. Der Bootstrapper verwendet die Daten, welche derjenige Service zurückliefert, der zuerst auf den UDP-Broadcast antwortet. Theoretisch kann das zu einer Fehlkonfiguration des OMS führen. </p>
<p><strong>Achten Sie daher darauf, dass nur <em>ein</em> OMSConfigService im Netzwerk aktiv ist und dass der aktive Service die richtigen Konfigurationsdaten für das OMS bereit hält.</strong></p>
<h2 id="mehrere-oms-im-netzwerk">Mehrere OMS im Netzwerk</h2>
<p>Jedes OMS ist eindeutig durch seine IP-Adresse identifizierbar. Die Konfiguration wird - wie oben bereits erwähnt - dieser IP-Adresse im OMSConfigService zugeordnet. Bei größeren Anlagen empfiehlt es sich, den OMSConfigService auf einem dauerhaft verfügbaren Server zu installieren, sodass Änderungen an der AppWare an zentraler Stelle vorgenommen werden können. Durch einen Restart des OMS bzw. dem Auslösen der Funktion "Update installieren" über dessen GUI, können die OMS schnell und einfach aktualisiert werden.</p>
<h2 id="funktionsprinzip-der-oms-appware"><a href="../working_principle_appware/">Funktionsprinzip der OMS AppWare</a></h2>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../.." title="Home" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Zurück
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../../configuration/configuration_main/" title="Konfiguration des OMS" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Weiter
                </span>
                Konfiguration des OMS
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
      <script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "In Zwischenablage kopieren", "clipboard.copied": "In Zwischenablage kopiert", "search.config.lang": "de", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Suchbegriff eingeben", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>